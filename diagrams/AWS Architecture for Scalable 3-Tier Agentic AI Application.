// AWS Architecture for Scalable 3-Tier Agentic AI Application
digraph {
	rankdir=TB
	users [label=Users tooltip="AWS user"]
	route53 [label="Route 53"]
	cloudfront [label=CloudFront]
	waf [label="AWS WAF"]
	s3_static [label="S3 Static Content" tooltip="AWS storage"]
	alb [label="Application Load Balancer"]
	asg_web [label="Web Tier Auto Scaling Group" tooltip="AWS compute"]
	api_gateway [label="API Gateway"]
	asg_app [label="App Tier Auto Scaling Group" tooltip="AWS compute"]
	lambda [label="Lambda Functions"]
	ecs [label="ECS Cluster"]
	bedrock [label="Amazon Bedrock"]
	sagemaker [label=SageMaker]
	opensearch [label="OpenSearch Service"]
	aurora [label="Aurora PostgreSQL" tooltip="AWS database"]
	dynamodb [label=DynamoDB tooltip="AWS database"]
	s3_data [label="S3 Data Lake" tooltip="AWS storage"]
	redis [label="ElastiCache Redis"]
	sqs [label=SQS]
	sns [label=SNS]
	eventbridge [label=EventBridge]
	cloudwatch [label=CloudWatch]
	cognito [label=Cognito]
	users -> route53 [label="DNS Resolution"]
	route53 -> cloudfront [label="Route to CDN"]
	cloudfront -> waf [label="Security Filtering"]
	waf -> s3_static [label="Static Content"]
	waf -> alb [label="Dynamic Content"]
	alb -> asg_web [label="Load Balance"]
	asg_web -> api_gateway [label="API Requests"]
	api_gateway -> asg_app [label="Route Requests"]
	api_gateway -> lambda [label="Serverless Functions"]
	asg_app -> ecs [label="Container Workloads"]
	asg_app -> bedrock [label="AI Models"]
	ecs -> bedrock [label="AI Models"]
	lambda -> bedrock [label="AI Models"]
	asg_app -> sagemaker [label="Custom Models"]
	asg_app -> opensearch [label="Vector Search"]
	asg_app -> aurora [label="Structured Data"]
	asg_app -> dynamodb [label="NoSQL Data"]
	asg_app -> redis [label=Caching]
	asg_app -> s3_data [label="Object Storage"]
	asg_app -> sqs [label="Message Queue"]
	sqs -> lambda [label=Trigger]
	lambda -> sns [label=Notifications]
	lambda -> eventbridge [label=Events]
	eventbridge -> lambda [label=Trigger]
	users -> cognito [label=Authentication]
	cognito -> api_gateway [label=Authorization]
	cloudwatch -> asg_web [label=Monitoring]
	cloudwatch -> asg_app [label=Monitoring]
}
